<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript">
        var plane = {
            fire: function(){
                console.log('发射普通子弹');
            }
        }

        var missileDecorator = function(){
            console.log('发射导弹');
        }

        var atomDecorator = function(){
            console.log('发射原子弹');
        }

        var fire1 = plane.fire;
        plane.fire = function(){
            fire1();
            missileDecorator();
        }

        var fire2 = plane.fire;

        plane.fire = function(){
            fire2();
            atomDecorator();
        }


        Function.prototype.before = function(beforefn){
            var _self = this;
            return function(){
                beforefn.apply(this, arguments);

                return _self.apply(this, arguments);
            }
        }

        Function.prototype.after = function(afterfn){
            var _self = this;
            return function(){
                var ret = _self.apply(this, arguments);
                afterfn.apply(this, arguments);
                return ret;
            }
        }

        Function.prototype.before = function(beforefn){
            var _self = this;
            return function(){
                beforefn.apply(this, arguments);
                return _self.apply(this, arguments);
            }
        }

        var func = function(param){

        }

    </script>
</body>
</html>