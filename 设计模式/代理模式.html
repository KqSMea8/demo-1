<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">

    </style>
</head>
<body>
    <div>ğŸŒ¹ğŸŒ¼</div>
    <script type="text/javascript">
    var synchronousFile = function(id){
        console.log('å¼€å§‹åŒæ­¥æ–‡ä»¶ï¼Œidä¸º' + id);
    }

    var proxySychronusFile = (function(){
        var cache = [],
            timer;

        return function(id){
            cache.push(id);

            if(timer){
                return ;
            }

            timer = setTimeout(function(){
                synchronousFile(cache.join(','));
                clearTimeout(timer);
                timer = null;
                cache.length = 0;
            }, 2000);
        }
    })()

    var checkbox = document.getElementsByTagName('input');


    </script>

    <script type="text/javascript">
        //å›¾ç‰‡é¢„åŠ è½½
        var myImage = (function(){
            var imgNode = document.createElement('img');
            document.body.appendChild(imgNode);

            return setSrc: function(src){
                imgNode.src = src;
            }
        })()

        var proxyImage = (function(){
            var img = new Image;
            img.onload = function(){
                myImage.setSrc(this.src);
            }

            return {
                setSrc: function(src){
                    imgNode.setSrc('file')
                    img.src = src;
                }
            }
        })

        proxyImage.setSrc('http://imgcache.qq.com')
    </script>
    <script type="text/javascript">
    //æœ‰ç”¨çš„ä»£ç†æ¨¡å¼
    var Flower = function(){};

    var xiaoming = {
        sendFlower: function(target){
            var flower = new Flower();
            target.receiveFlower(flower);
        }
    }

    var B = {
        receiveFlower: function(flower){
            A.listenGoodMood(function(){ //ç›‘å¬açš„å¥½å¿ƒæƒ…
                A.receiveFlower(flower);
            })
        }
    }

    var A = {
        receiveFlower: function(flower){
            console.log('æ”¶åˆ°èŠ±'+flower);
        },
        listenGoodMood: function(fn){
            setTimeout(function(){  //å‡è®¾10sä¹‹åAçš„å¿ƒæƒ…å˜å¥½
                fn();
            }, 10000);
        }
    }

    xiaoming.sendFlower(B);



    </script>
    <script type="text/javascript">
        var Flower = function(){};

        var xiaoming = {
            sendFlower: function(target){
                var flower = new Flower();
                target.receiveFlower(flower);
            }
        }

        var A = {
            receiveFlower: function(flower){
                console.log('æ”¶åˆ°ğŸŒ¹'+ flower);
            }
        }

        xiaoming.sendFlower(A);

        //////////////////////////

        var Flower = function(){}

        var xiaoming = {
            sendFlower: function(target){
                var flower = new Flower();
                target.receiveFlower(flower);
            }
        }

        var B = {
            receiveFlower: function(flower){
                A.receiveFlower(flower);
            }
        }

        var A = {
            receiveFlower: function(flower){
                console.log('æ”¶åˆ°èŠ±'+ flower);
            }
        }

        xiaoming.sendFlower(B);

    </script>
</body>
</html>