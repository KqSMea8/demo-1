<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript">
        var tween = {
            linear: function(t, b, c, d){
                return c*t/d + b;
            },
            easeIn: function(t, b, c, d){
                return c * (t /= d) * t + b;
            },
            strongEaseIn: function(t, b, c, d){
                return c * (t /= d) * t * t * t *t + b;
            },
            strongEaseOut: function(t, b, c, d){
                return c * ((t = t / d -1) * t * t * t * t + 1) + b;
            },
            sineaseIn:function(t, b, c, d){
                return c * (t /= d) * t * t + b;
            },
            sineaseOut: function(t, b, c, d){
                return c * ((t = t/d -1) * t * t + 1) + b;
            }
        }


    </script>
    <script type="text/javascript">
    //使用策略模式
    var performanceS = function(){};

    performanceS.prototype.calculate = function(salary){
        return salary * 4;
    }

    var performanceA = function(){};
    performanceA.prototype.calculate = function(salary){
        return salary * 3;
    }
    var performanceB = function(){};

    performanceB.prototype.calculate = function(salary){
        return salary * 2;
    }
    //接下来定义奖金类Bonus
    var Bonus = function(){
        this.salary = null;
        this.strategy = null;
    }

    Bonus.prototype.setSalary = function(salary){
        this.salary = salary;
    }

    Bonus.prototype.setStrategy = function(strategy){
        this.strategy = strategy;
    }
    Bonus.prototype.getBonus = function(){
        return this.strategy.calculate(this.salary);
    }

    var bonus = new Bonus();
    bonus.setSalary(10000);
    bonus.setStrategy(new perfomanceS()); //设置策略对象
    console.log(bonus.getBonus());

    bonus.setStrategy(new perfomanceA()); //设置侧罗对象
    console.log(bonus.getBonus()); //输出3000

    //在javascripe中
    var strategies = {
        "S": function(salary){
            return salary*4;
        },
        "A": function(salary){
            return salary*3;
        },
        "B": function(salary){
            return salary * 2;
        }
    }

    var calculateBonus = function(level, salary){
        return strategies[level][salary];
    }

        //使用组合函数重构代码
        var performanceS = function(salary){
            return salary * 4;
        }

        var performanceA = function(salary){
            return salary * 3;
        }

        var calculateBonus = function(performanceLevel, salary){
            if (performanceLevel === 'S'){
                return salary * 4;
            }
            if(performanceLevel === 'A'){
                return salary * 3;
            }
            if(performanceLevel === 'B'){
                return salary * 2;
            }
        }

        calculateBonus('B', 20000);//输出： 40000
        calculateBonus('S', 6000); //输出： 24000

    </script>
</body>
</html>